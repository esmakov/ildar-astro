---
import MySiteLayout from "../../layouts/MySiteLayout.astro";
import PhotoList from "../../components/PhotoList.astro";

export function getStaticPaths() {
  return [
    { params: { couple: "lennyjenny" } },
    { params: { couple: "eugenefelina" } },
  ];
}

const { couple } = Astro.params;

const lenny_jenny_images = import.meta.glob(
  "../../../public/engagement_webp/lenny_jenny/*.webp",
);
const eugene_felina_images = import.meta.glob(
  "../../../public/engagement_webp/eugene_felina/*.webp",
);

let imageList;
let title = "";
if (couple === "lennyjenny") {
  title = "Lenny & Jenny";
  imageList = lenny_jenny_images;
} else if (couple === "eugenefelina") {
  title = "Eugene & Felina";
  imageList = eugene_felina_images;
}
---

<script>
  let prevScrollpos = window.scrollY;
  const nav = document.querySelector("nav");

  window.onscroll = function () {
    let navHeight = nav.offsetHeight;

    let currentScrollPos = window.scrollY;

    if (currentScrollPos < prevScrollpos) {
      nav.style.top = "0";
    } else {
      nav.style.top = `${-navHeight}px`;
    }

    prevScrollpos = currentScrollPos;
  };
</script>

<MySiteLayout>
  <div class="flex flex-col items-center bg-[rgb(88_88_88)]">
    <h1 class="my-8 text-center text-3xl text-gray-100">
      {title}
    </h1>
    <PhotoList imageList={imageList} alt="Engagement photo" />
  </div>
</MySiteLayout>
